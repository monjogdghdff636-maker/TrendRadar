# config/config.yaml

# TrendRadar 主配置
version_check_url: "https://raw.githubusercontent.com/sansan0/TrendRadar/master/version.json"
show_version_update: true

crawler:
  enable_crawler: true
  use_proxy: false
  default_proxy: ""
  # 每个平台爬取的最大条数
  crawl_limit_per_platform: 50  
  # 重试次数
  retry_times: 3  
  # 请求等待时间 (秒)
  request_timeout: 10  

report:
  mode: "current"        # 推送模式: daily / current / incremental
  rank_threshold: 10     # 阈值: 第几名以内才推
  weight:
    rank_weight: 0.8
    frequency_weight: 0.1
    hotness_weight: 0.1

platforms:
  # 你指定的 7 个平台，这里 id/name 你自己改
  - id: "PLATFORM_ID_1"
    name: "Platform 1 Name"
  - id: "PLATFORM_ID_2"
    name: "Platform 2 Name"
  - id: "PLATFORM_ID_3"
    name: "Platform 3 Name"
  - id: "PLATFORM_ID_4"
    name: "Platform 4 Name"
  - id: "PLATFORM_ID_5"
    name: "Platform 5 Name"
  - id: "PLATFORM_ID_6"
    name: "Platform 6 Name"
  - id: "PLATFORM_ID_7"
    name: "Platform 7 Name"

platforms_config:
  # 对应上面 7 平台，各个开关是否监控
  PLATFORM_ID_1: true
  PLATFORM_ID_2: true
  PLATFORM_ID_3: true
  PLATFORM_ID_4: true
  PLATFORM_ID_5: true
  PLATFORM_ID_6: true
  PLATFORM_ID_7: true

notification:
  enable_notification: true
  message_batch_size: 20           # **你缺失的那个 key**，可能是通知推送拆批用的
  mode: "push"                     # 推送方式 (默认 “push”，或者别的，根据版本)
  push_window:
    enabled: false
    time_range:
      start: "00:00"
      end: "23:59"
  webhooks:
    feishu:
      enabled: true                 # 你说要飞书设为 true
      feishu_url: ""                # 你在 GitHub Secrets 或 env 填 Webhook
    wechatwork:
      enabled: false
      wechatwork_url: ""
    dingtalk:
      enabled: false
      dingtalk_url: ""
  feishu_message_type: "text"       # 飞书消息类型 text 或 post
  feishu_template: ""               # 如果你用自定义模板
  # 可能还需要以下字段 (根据代码版本决定是否 mandatory):
  # dingding_message_type:
  # email:
  #   from: ""
  #   to: ""
  #   smtp_server: ""
  #   smtp_port: 587
  #   username: ""
  #   password: ""
  # ntfy:
  #   topic: ""
  #   server_url: ""
  #   token: ""

proxy:
  http: ""
  https: ""

logging:
  level: "info"                    # debug / info / warning / error
  log_file: ""                      # 日志文件路径 (如果支持)

advanced:
  # 如果 TrendRadar 支持更多高级选项，你可以在这里补
  # 比如：AI 分析、MCP 设置等
  mcp:
    enabled: true
    host: "0.0.0.0"
    port: 3333
